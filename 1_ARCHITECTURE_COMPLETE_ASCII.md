# 1ï¸âƒ£ ARCHITECTURE COMPLÃˆTE - SCHÃ‰MA ASCII & FLUX

## ðŸ—ï¸ VUE D'ENSEMBLE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MAC DE VINCENT                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    ðŸŽ¯ CORE (VINCENT)                    â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  ðŸ“¡ VECTOR BUS (enhanced_vector_bus.py)         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Port: 5001                                     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ /api/bus/push   (Backend â†’ Bus)             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ /api/bus/pull   (Bus â†’ Frontend)            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ /api/bus/state  (Ã‰tat actuel)               â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                   â”‚          â”‚                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  ðŸ¤– LLM OLLAMA                                  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  Port: 11434                                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Qwen2.5:0.5b (397MB)                        â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â–²            â–²                       â”‚
â”‚                           â”‚            â”‚                       â”‚
â”‚         PUSH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PULL    â”‚
â”‚                           â”‚            â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    ðŸ”¨ BACKEND (JEAN)        â”‚  â”‚   ðŸŽ¨ FRONTEND (PAUL)   â”‚  â”‚
â”‚  â”‚                              â”‚  â”‚                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ â˜• JAVA Spring Boot â”‚     â”‚  â”‚  â”‚ âš›ï¸ REACT Dev     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Port: 8080          â”‚     â”‚  â”‚  â”‚ Port: 5173       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /api/combat       â”‚     â”‚  â”‚  â”‚ â€¢ UI Components  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /api/tcg          â”‚     â”‚  â”‚  â”‚ â€¢ Game Views     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                              â”‚  â”‚                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚  Appelle:             â”‚  â”‚
â”‚  â”‚  â”‚ ðŸ¦€ RUST Server     â”‚     â”‚  â”‚  â€¢ :8080 (Java)       â”‚  â”‚
â”‚  â”‚  â”‚ Port: 3001          â”‚     â”‚  â”‚  â€¢ :3001 (Rust)       â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /api/v2/tick      â”‚     â”‚  â”‚  â€¢ :5001 (Vector Bus) â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ /api/v2/qstar     â”‚     â”‚  â”‚                        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“‹ FLUX DÃ‰TAILLÃ‰ : ORDRE DE DÃ‰PLOIEMENT

### ðŸŒ… PHASE 1 : DÃ‰MARRAGE (8h00)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] VINCENT lance CORE                  â”‚
â”‚     ./h 99  â†’ Check continuitÃ©          â”‚
â”‚     ./h 60  â†’ Lance Vector Bus + LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Bus: 5001 âœ…           â”‚
         â”‚ LLM: 11434 âœ…          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ðŸ”¨ PHASE 2 : BACKEND (8h15)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [2] JEAN lance BACKEND                  â”‚
â”‚     ./h 61  â†’ Java + Rust               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Java: 8080 âœ…          â”‚
         â”‚ Rust: 3001 âœ…          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼ PUSH
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ game_state â†’ Bus 5001  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ðŸŽ¨ PHASE 3 : FRONTEND (8h30)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [3] PAUL lance FRONTEND                 â”‚
â”‚     ./h 62  â†’ React dev                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ React: 5173 âœ…         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼ PULL
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Bus 5001 â†’ game_state  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ CYCLE DE DÃ‰VELOPPEMENT

```
    JEAN CODE                    PAUL CODE
        â”‚                            â”‚
        â–¼                            â–¼
    Compile Java                Update React
        â”‚                            â”‚
        â–¼                            â”‚
    PUSH to Bus â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚
        â”‚                            â”‚
        â”‚                            â–¼
        â”‚                        PULL from Bus
        â”‚                            â”‚
        â”‚                            â–¼
        â”‚                        Update UI
        â”‚                            â”‚
        â””â”€â”€â”€â”€â”€â”€ < 100ms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ EXEMPLE TIMELINE RÃ‰ELLE

```
09:00:00  Vincent  â†’ ./h 60          [CORE READY]
09:00:05  System   â†’ Bus:5001 UP
09:00:06  System   â†’ LLM:11434 UP

09:05:00  Jean     â†’ ./h 61          [BACKEND READY]
09:05:02  System   â†’ Java:8080 UP
09:05:03  System   â†’ Rust:3001 UP
09:05:05  Jean     â†’ PUSH initial_state

09:10:00  Paul     â†’ ./h 62          [FRONTEND READY]
09:10:02  System   â†’ React:5173 UP
09:10:03  Paul     â†’ PULL state (auto)
09:10:04  UI       â†’ Display game

10:30:15  Jean     â†’ Code new feature
10:30:45  Jean     â†’ Compile & restart
10:30:47  Jean     â†’ PUSH update
10:30:47.1 Paul    â†’ PULL update (100ms poll)
10:30:47.2 UI      â†’ Show new feature

17:00:00  Jean     â†’ ./h 50          [BUILD]
17:05:00  Vincent  â†’ ./h 51          [PACKAGE]
17:10:00  Vincent  â†’ ./h 52          [PUBLISH]
```

---

## ðŸ“¡ PROTOCOLE BUS DÃ‰TAILLÃ‰

### MESSAGE FORMAT
```json
{
  "type": "game_state|combat_start|spell_cast|...",
  "source": "backend|frontend|system",
  "data": {...},
  "timestamp": 1234567890.123,
  "datetime": "2025-08-11T09:30:00Z"
}
```

### BACKEND â†’ BUS (PUSH)
```javascript
POST http://localhost:5001/api/bus/push
{
  "type": "combat_start",
  "source": "backend",
  "data": {
    "hero": "alice",
    "enemy": "dragon",
    "turn": 1
  }
}
```

### BUS â†’ FRONTEND (PULL)
```javascript
GET http://localhost:5001/api/bus/pull?since=1234567890
Response: {
  "messages": [...],
  "count": 5,
  "latest_timestamp": 1234567895
}
```

---

## ðŸŽ¯ RÃˆGLES D'OR

1. **VINCENT** dÃ©marre TOUJOURS en premier (CORE)
2. **JEAN** peut restart sans affecter Paul
3. **PAUL** ne touche JAMAIS aux backends
4. **Bus** garde les 1000 derniers messages
5. **LLM** partagÃ© = 600MB RAM Ã©conomisÃ©s

---

## âš¡ COMMANDES ESSENTIELLES

```bash
# MATIN
./h 99   # Check obligatoire
./h 60   # Vincent - CORE
./h 61   # Jean - BACKEND
./h 62   # Paul - FRONTEND

# TEST
./h 63   # Test communication

# SOIR
./h 50   # Build binaires
./h 51   # Package release
./h 52   # Publish GitHub
```

---

**ARCHITECTURE RÃ‰VOLUTIONNAIRE. ZÃ‰RO CONFLIT. 100% EFFICACE.**
