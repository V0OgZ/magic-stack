{"version":3,"file":"SpatioTemporalMapEditor-Be7svQok.js","sources":["../../src/data/creatures.ts","../../src/shared/components/SpatioTemporalMapEditor.tsx"],"sourcesContent":["/**\n * 🐉 CRÉATURES CENTRALISÉES - Toutes les créatures du jeu\n * \n * Source de vérité unique pour toutes les créatures de Heroes of Time\n * Compilé depuis : hot/entities/creatures.json\n */\n\nexport interface Creature {\n  id: string;\n  name: string;\n  tier: number;\n  cost: number;\n  attack: number;\n  defense: number;\n  health: number;\n  abilities: string[];\n  energy_complex?: {\n    A: number;\n    phi: number;\n  };\n  quantum_state?: string;\n  special?: string;\n  flavor?: string;\n  rarity: 'common' | 'rare' | 'epic' | 'legendary';\n  set: string;\n  icon_id: string;\n  fx_preset: string;\n  sound_event: string;\n  theme_color: string;\n  output_modes: {\n    literary: string;\n    runic: string;\n    iconic: string;\n  };\n}\n\n// === LES 20 CRÉATURES COMPLÈTES ===\nexport const CREATURES: Record<string, Creature> = {\n  // === CRÉATURES LÉGENDAIRES ===\n  dragon_rouge_temporel: {\n    id: 'dragon_rouge_temporel',\n    name: 'Dragon Rouge Temporel',\n    tier: 4,\n    cost: 12,\n    attack: 50,\n    defense: 40,\n    health: 500,  // 500 HP !!\n    abilities: ['vol', 'souffle_temporel', 'paradoxe_draconique'],\n    energy_complex: {\n      A: 500,\n      phi: 0.95\n    },\n    quantum_state: 'collapsed',\n    special: 'Peut attaquer dans le passé, présent et futur simultanément',\n    flavor: 'L\\'apex prédateur de toutes les timelines',\n    rarity: 'legendary',\n    set: 'temporal',\n    icon_id: '🐲',\n    fx_preset: 'fire_breath',\n    sound_event: 'dragon_roar',\n    theme_color: '#DC143C',\n    output_modes: {\n      literary: 'Dragon ancestral maîtrisant les flammes temporelles',\n      runic: 'ᛞᚱᚨᚷᛟᚾ᛫ᚱᛟᚢᚷᛖ',\n      iconic: '🐲🔥⏳'\n    }\n  },\n\n  quantum_phoenix: {\n    id: 'quantum_phoenix',\n    name: 'Phoenix Quantique',\n    tier: 3,\n    cost: 8,\n    attack: 6,\n    defense: 4,\n    health: 6,\n    abilities: ['renaissance_infinie', 'flammes_probabilistes'],\n    energy_complex: {\n      A: 100,\n      phi: 0.9\n    },\n    quantum_state: 'superposition',\n    special: 'Ressuscite avec probabilité inversée à chaque mort',\n    flavor: 'Meurt et renaît dans toutes les dimensions simultanément',\n    rarity: 'legendary',\n    set: 'quantum',\n    icon_id: '🔥',\n    fx_preset: 'phoenix_rebirth',\n    sound_event: 'phoenix_cry',\n    theme_color: '#FF4500',\n    output_modes: {\n      literary: 'Oiseau de feu transcendant la mort elle-même',\n      runic: 'ᛈᚺᛟᛖᚾᛁᛪ',\n      iconic: '🔥🦅♾️'\n    }\n  },\n\n  quantum_lich: {\n    id: 'quantum_lich',\n    name: 'Liche Quantique',\n    tier: 3,\n    cost: 9,\n    attack: 7,\n    defense: 5,\n    health: 8,\n    abilities: ['nécromancie_quantique', 'phylactère_superposé'],\n    energy_complex: {\n      A: 120,\n      phi: 0.85\n    },\n    quantum_state: 'entangled',\n    special: 'Son phylactère existe dans 7 dimensions parallèles',\n    flavor: 'Mort-vivant persistant dans l\\'effondrement de la fonction d\\'onde',\n    rarity: 'epic',\n    set: 'quantum',\n    icon_id: '💀',\n    fx_preset: 'death_aura',\n    sound_event: 'lich_whisper',\n    theme_color: '#4B0082',\n    output_modes: {\n      literary: 'Seigneur mort-vivant défiant les lois de la réalité',\n      runic: 'ᛚᛁᚲᚺᛖ᛫ᚲᚢᚨᚾᛏᛁᚲᚢᛖ',\n      iconic: '💀⚛️🔮'\n    }\n  },\n\n  // === CRÉATURES ÉPIQUES ===\n  quantum_knight: {\n    id: 'quantum_knight',\n    name: 'Chevalier Quantique',\n    tier: 2,\n    cost: 4,\n    attack: 4,\n    defense: 4,\n    health: 4,\n    abilities: ['superposition_défensive', 'frappe_probabiliste'],\n    energy_complex: {\n      A: 30,\n      phi: 0.7\n    },\n    special: 'Peut parer et attaquer dans le même instant quantique',\n    flavor: 'Guerrier existant dans plusieurs états de combat simultanément',\n    rarity: 'rare',\n    set: 'quantum',\n    icon_id: '⚔️',\n    fx_preset: 'pulse',\n    sound_event: 'sword_clash',\n    theme_color: '#4169E1',\n    output_modes: {\n      literary: 'Guerrier existant dans plusieurs états de combat simultanément',\n      runic: 'ᚲᚺᛖᚹᚨᛚᛁᛖᚱ᛫ᚲᚢᚨᚾᛏᛁᚲᚢᛖ',\n      iconic: '⚔️🛡️⚛️'\n    }\n  },\n\n  phase_dragon: {\n    id: 'phase_dragon',\n    name: 'Dragon de Phase',\n    tier: 2,\n    cost: 5,\n    attack: 5,\n    defense: 3,\n    health: 5,\n    abilities: ['phase_shift', 'souffle_dimensionnel'],\n    energy_complex: {\n      A: 40,\n      phi: 0.75\n    },\n    special: 'Traverse les dimensions pour éviter les attaques',\n    flavor: 'Ses écailles scintillent entre les réalités',\n    rarity: 'epic',\n    set: 'quantum',\n    icon_id: '🐉',\n    fx_preset: 'phase_shift',\n    sound_event: 'dragon_breath',\n    theme_color: '#9370DB',\n    output_modes: {\n      literary: 'Dragon glissant entre les dimensions',\n      runic: 'ᛞᚱᚨᚷᛟᚾ᛫ᛞᛖ᛫ᛈᚺᚨᛊᛖ',\n      iconic: '🐉🌀✨'\n    }\n  },\n\n  probability_spider: {\n    id: 'probability_spider',\n    name: 'Araignée de Probabilité',\n    tier: 1,\n    cost: 3,\n    attack: 3,\n    defense: 2,\n    health: 2,\n    abilities: ['toile_causale', 'vision_futurs'],\n    energy_complex: {\n      A: 15,\n      phi: 0.6\n    },\n    special: 'Prédit 3 futurs possibles au début du tour',\n    flavor: 'Ses toiles prédisent 1024 futurs simultanés',\n    rarity: 'common',\n    set: 'quantum',\n    icon_id: '🕷️',\n    fx_preset: 'web_spread',\n    sound_event: 'spider_hiss',\n    theme_color: '#808080',\n    output_modes: {\n      literary: 'Ses toiles prédisent 1024 futurs simultanés',\n      runic: 'ᚨᚱᚨᛁᚷᚾéᛖ᛫ᛞᛖ᛫ᛈᚱᛟᛒᚨᛒᛁᛚ',\n      iconic: '🕷️🕸️🎲'\n    }\n  },\n\n  // === CRÉATURES RARES ===\n  temporal_griffin: {\n    id: 'temporal_griffin',\n    name: 'Griffon Temporel',\n    tier: 2,\n    cost: 6,\n    attack: 6,\n    defense: 5,\n    health: 6,\n    abilities: ['vol', 'vision_temporelle'],\n    energy_complex: {\n      A: 50,\n      phi: 0.8\n    },\n    special: 'Voit 2 tours dans le futur',\n    flavor: 'Gardien des portes temporelles',\n    rarity: 'rare',\n    set: 'temporal',\n    icon_id: '🦅',\n    fx_preset: 'wing_flap',\n    sound_event: 'eagle_cry',\n    theme_color: '#FFD700',\n    output_modes: {\n      literary: 'Créature majestueuse gardant les passages temporels',\n      runic: 'ᚷᚱᛁᚠᚠᛟᚾ',\n      iconic: '🦅⏳👁️'\n    }\n  },\n\n  quantum_hydra: {\n    id: 'quantum_hydra',\n    name: 'Hydre Quantique',\n    tier: 3,\n    cost: 7,\n    attack: 3,\n    defense: 6,\n    health: 9,\n    abilities: ['régénération_quantique', 'têtes_multiples'],\n    special: 'Gagne une tête dans une dimension parallèle quand blessée',\n    flavor: 'Chaque tête coupée se régénère dans une autre timeline',\n    rarity: 'rare',\n    set: 'quantum',\n    icon_id: '🐉',\n    fx_preset: 'regeneration',\n    sound_event: 'hydra_hiss',\n    theme_color: '#228B22',\n    output_modes: {\n      literary: 'Monstre à plusieurs têtes défiant la mort',\n      runic: 'ᚺᚤᛞᚱᛖ',\n      iconic: '🐉🐉🐉'\n    }\n  },\n\n  stone_golem: {\n    id: 'stone_golem',\n    name: 'Golem de Pierre',\n    tier: 2,\n    cost: 5,\n    attack: 4,\n    defense: 8,\n    health: 8,\n    abilities: ['immobilité', 'peau_de_pierre'],\n    special: 'Immunité aux sorts de tier 1',\n    flavor: 'Gardien ancestral des temples oubliés',\n    rarity: 'rare',\n    set: 'ancient',\n    icon_id: '🗿',\n    fx_preset: 'earth_shake',\n    sound_event: 'stone_rumble',\n    theme_color: '#8B7355',\n    output_modes: {\n      literary: 'Colosse de pierre animé par magie ancienne',\n      runic: 'ᚷᛟᛚᛖᛗ',\n      iconic: '🗿💎⛰️'\n    }\n  },\n\n  fire_elemental: {\n    id: 'fire_elemental',\n    name: 'Élémentaire de Feu',\n    tier: 2,\n    cost: 4,\n    attack: 6,\n    defense: 2,\n    health: 4,\n    abilities: ['immolation', 'immunité_feu'],\n    special: 'Inflige 1 dégât à tous les ennemis adjacents',\n    flavor: 'Incarnation vivante de la flamme primordiale',\n    rarity: 'rare',\n    set: 'elemental',\n    icon_id: '🔥',\n    fx_preset: 'fire_aura',\n    sound_event: 'fire_crackle',\n    theme_color: '#FF4500',\n    output_modes: {\n      literary: 'Être de pure flamme consumant tout sur son passage',\n      runic: 'ᛖᛚᛖᛗᛖᚾᛏᚨᛁᚱᛖ',\n      iconic: '🔥🔥🔥'\n    }\n  },\n\n  // === CRÉATURES COMMUNES ===\n  quantum_wisp: {\n    id: 'quantum_wisp',\n    name: 'Luciole Quantique',\n    tier: 1,\n    cost: 2,\n    attack: 2,\n    defense: 1,\n    health: 1,\n    abilities: ['vol', 'phase_shift'],\n    energy_complex: {\n      A: 10,\n      phi: 0.5\n    },\n    quantum_state: 'superposition',\n    flavor: 'Fragments de lumière consciente naviguant entre les époques',\n    rarity: 'common',\n    set: 'quantum',\n    icon_id: '✨',\n    fx_preset: 'sparkle',\n    sound_event: 'wisp_float',\n    theme_color: '#ADD8E6',\n    output_modes: {\n      literary: 'Fragments de lumière consciente naviguant entre les époques',\n      runic: 'ᛚᚢᚲᛁᛟᛚᛖ',\n      iconic: '✨💫🌟'\n    }\n  },\n\n  temporal_rat: {\n    id: 'temporal_rat',\n    name: 'Rat Temporel',\n    tier: 1,\n    cost: 1,\n    attack: 1,\n    defense: 1,\n    health: 1,\n    abilities: ['bond_temporel'],\n    special: 'Peut revenir 1 tour dans le passé une fois',\n    flavor: 'Rongeur sautant entre les secondes',\n    rarity: 'common',\n    set: 'temporal',\n    icon_id: '🐀',\n    fx_preset: 'quick_move',\n    sound_event: 'rat_squeak',\n    theme_color: '#696969',\n    output_modes: {\n      literary: 'Petit rongeur bondissant à travers le temps',\n      runic: 'ᚱᚨᛏ',\n      iconic: '🐀⏰💨'\n    }\n  },\n\n  ghost_warrior: {\n    id: 'ghost_warrior',\n    name: 'Guerrier Fantôme',\n    tier: 1,\n    cost: 3,\n    attack: 3,\n    defense: 2,\n    health: 3,\n    abilities: ['intangible', 'frappe_spectrale'],\n    special: '50% de chance d\\'éviter les attaques physiques',\n    flavor: 'Écho d\\'un guerrier tombé au combat',\n    rarity: 'common',\n    set: 'spectral',\n    icon_id: '👻',\n    fx_preset: 'fade_in_out',\n    sound_event: 'ghost_whisper',\n    theme_color: '#B0C4DE',\n    output_modes: {\n      literary: 'Esprit guerrier errant entre les mondes',\n      runic: 'ᚠᚨᚾᛏᛟᛗᛖ',\n      iconic: '👻⚔️💨'\n    }\n  },\n\n  crystal_beetle: {\n    id: 'crystal_beetle',\n    name: 'Scarabée de Cristal',\n    tier: 1,\n    cost: 2,\n    attack: 1,\n    defense: 3,\n    health: 2,\n    abilities: ['carapace_cristalline'],\n    special: 'Gagne +1/+1 pour chaque cristal que vous possédez',\n    flavor: 'Se nourrit d\\'énergie cristalline pure',\n    rarity: 'common',\n    set: 'crystal',\n    icon_id: '🪲',\n    fx_preset: 'crystal_shine',\n    sound_event: 'crystal_chime',\n    theme_color: '#9370DB',\n    output_modes: {\n      literary: 'Insecte aux reflets cristallins',\n      runic: 'ᛊᚲᚨᚱᚨᛒᛖᛖ',\n      iconic: '🪲💎✨'\n    }\n  },\n\n  shadow_wolf: {\n    id: 'shadow_wolf',\n    name: 'Loup des Ombres',\n    tier: 1,\n    cost: 3,\n    attack: 4,\n    defense: 2,\n    health: 2,\n    abilities: ['célérité', 'morsure_ténébreuse'],\n    special: 'Invisible dans l\\'obscurité',\n    flavor: 'Prédateur silencieux des royaumes sombres',\n    rarity: 'common',\n    set: 'shadow',\n    icon_id: '🐺',\n    fx_preset: 'shadow_step',\n    sound_event: 'wolf_howl',\n    theme_color: '#2F4F4F',\n    output_modes: {\n      literary: 'Loup chassant dans les ténèbres',\n      runic: 'ᛚᛟᚢᛈ',\n      iconic: '🐺🌑💨'\n    }\n  },\n\n  sky_eagle: {\n    id: 'sky_eagle',\n    name: 'Aigle Céleste',\n    tier: 1,\n    cost: 2,\n    attack: 2,\n    defense: 1,\n    health: 2,\n    abilities: ['vol', 'vue_perçante'],\n    special: 'Révèle les cartes cachées de l\\'adversaire',\n    flavor: 'Messager des cieux',\n    rarity: 'common',\n    set: 'sky',\n    icon_id: '🦅',\n    fx_preset: 'soar',\n    sound_event: 'eagle_cry',\n    theme_color: '#87CEEB',\n    output_modes: {\n      literary: 'Rapace majestueux survolant les champs de bataille',\n      runic: 'ᚨᛁᚷᛚᛖ',\n      iconic: '🦅☁️👁️'\n    }\n  },\n\n  swamp_troll: {\n    id: 'swamp_troll',\n    name: 'Troll des Marais',\n    tier: 2,\n    cost: 4,\n    attack: 5,\n    defense: 4,\n    health: 5,\n    abilities: ['régénération', 'puanteur'],\n    special: 'Régénère 2 PV par tour',\n    flavor: 'La puanteur arrive avant lui',\n    rarity: 'common',\n    set: 'swamp',\n    icon_id: '👹',\n    fx_preset: 'stench',\n    sound_event: 'troll_grunt',\n    theme_color: '#556B2F',\n    output_modes: {\n      literary: 'Créature putride des marécages',\n      runic: 'ᛏᚱᛟᛚᛚ',\n      iconic: '👹🦠💚'\n    }\n  },\n\n  ice_sprite: {\n    id: 'ice_sprite',\n    name: 'Esprit de Glace',\n    tier: 1,\n    cost: 2,\n    attack: 2,\n    defense: 2,\n    health: 2,\n    abilities: ['gel', 'immunité_glace'],\n    special: 'Ralentit les ennemis touchés',\n    flavor: 'Né des premiers flocons de l\\'hiver éternel',\n    rarity: 'common',\n    set: 'ice',\n    icon_id: '❄️',\n    fx_preset: 'frost',\n    sound_event: 'ice_crack',\n    theme_color: '#B0E0E6',\n    output_modes: {\n      literary: 'Esprit élémentaire de glace pure',\n      runic: 'ᛖᛊᛈᚱᛁᛏ',\n      iconic: '❄️👻💨'\n    }\n  },\n\n  lightning_serpent: {\n    id: 'lightning_serpent',\n    name: 'Serpent de Foudre',\n    tier: 2,\n    cost: 4,\n    attack: 5,\n    defense: 2,\n    health: 3,\n    abilities: ['célérité', 'frappe_foudroyante'],\n    special: 'Attaque en chaîne sur 3 ennemis',\n    flavor: 'Né d\\'un éclair frappant la terre',\n    rarity: 'common',\n    set: 'storm',\n    icon_id: '🐍',\n    fx_preset: 'lightning_strike',\n    sound_event: 'thunder',\n    theme_color: '#FFD700',\n    output_modes: {\n      literary: 'Serpent fait de pure électricité',\n      runic: 'ᛊᛖᚱᛈᛖᚾᛏ',\n      iconic: '🐍⚡💥'\n    }\n  },\n\n  basilisk: {\n    id: 'basilisk',\n    name: 'Basilic',\n    tier: 2,\n    cost: 5,\n    attack: 4,\n    defense: 3,\n    health: 4,\n    abilities: ['regard_pétrifiant', 'venin_mortel'],\n    special: 'Tue instantanément les créatures de tier 1',\n    flavor: 'Un seul regard suffit',\n    rarity: 'rare',\n    set: 'ancient',\n    icon_id: '🐍',\n    fx_preset: 'petrify',\n    sound_event: 'basilisk_hiss',\n    theme_color: '#8B4513',\n    output_modes: {\n      literary: 'Serpent légendaire au regard mortel',\n      runic: 'ᛒᚨᛊᛁᛚᛁᛊᚲ',\n      iconic: '🐍👁️🗿'\n    }\n  }\n};\n\n// Fonctions utilitaires\nexport function getCreatureById(id: string): Creature | undefined {\n  return CREATURES[id];\n}\n\nexport function getCreaturesByTier(tier: number): Creature[] {\n  return Object.values(CREATURES).filter(creature => creature.tier === tier);\n}\n\nexport function getCreaturesByRarity(rarity: Creature['rarity']): Creature[] {\n  return Object.values(CREATURES).filter(creature => creature.rarity === rarity);\n}\n\nexport function getCreaturesBySet(set: string): Creature[] {\n  return Object.values(CREATURES).filter(creature => creature.set === set);\n}\n\nexport function getAllCreatures(): Creature[] {\n  return Object.values(CREATURES);\n}\n\nexport function getCreatureCount(): number {\n  return Object.keys(CREATURES).length;\n}\n\n// Export des catégories\nexport const LEGENDARY_CREATURES = getCreaturesByRarity('legendary');\nexport const EPIC_CREATURES = getCreaturesByRarity('epic');\nexport const RARE_CREATURES = getCreaturesByRarity('rare');\nexport const COMMON_CREATURES = getCreaturesByRarity('common');\n\n// Stats globales\nexport const CREATURES_STATS = {\n  total: getCreatureCount(),\n  legendary: LEGENDARY_CREATURES.length,\n  epic: EPIC_CREATURES.length,\n  rare: RARE_CREATURES.length,\n  common: COMMON_CREATURES.length,\n  sets: [...new Set(Object.values(CREATURES).map(c => c.set))],\n  averageStats: {\n    attack: Math.round(Object.values(CREATURES).reduce((acc, c) => acc + c.attack, 0) / getCreatureCount()),\n    defense: Math.round(Object.values(CREATURES).reduce((acc, c) => acc + c.defense, 0) / getCreatureCount()),\n    health: Math.round(Object.values(CREATURES).reduce((acc, c) => acc + c.health, 0) / getCreatureCount()),\n    cost: Math.round(Object.values(CREATURES).reduce((acc, c) => acc + c.cost, 0) / getCreatureCount())\n  }\n};\n","/**\n * 🌌 Éditeur de Carte Spatio-Temporel 6D\n * \n * Place des événements dans l'espace ET le temps\n * Gère les 6 dimensions : x, y, z, temps, probabilité, causalité\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { HEROES } from '../../data/heroes';\nimport { CREATURES } from '../../data/creatures';\nimport { ARTIFACTS } from '../../data/artifacts';\nimport { ICON_MAP } from '../icons/iconMapping';\n\ninterface TemporalEvent {\n  id: string;\n  x: number;\n  y: number;\n  z?: number; // Altitude/profondeur\n  time: number; // Jour/tour d'apparition\n  entity: {\n    type: 'hero' | 'creature' | 'artifact' | 'resource' | 'building';\n    id: string;\n    icon: string;\n    name: string;\n  };\n  cycle?: {\n    enabled: boolean;\n    interval: number; // Réapparaît tous les X jours\n    probability?: number; // Probabilité de réapparition\n  };\n  causality?: {\n    triggers?: string[]; // IDs d'événements déclencheurs\n    consequences?: string[]; // IDs d'événements conséquences\n  };\n}\n\ninterface Props {\n  mapWidth?: number;\n  mapHeight?: number;\n  currentDay?: number;\n  onEventPlace?: (event: TemporalEvent) => void;\n}\n\nexport function SpatioTemporalMapEditor({\n  mapWidth = 20,\n  mapHeight = 20,\n  currentDay = 1,\n  onEventPlace\n}: Props): React.ReactElement {\n  const [events, setEvents] = useState<TemporalEvent[]>([]);\n  const [selectedTool, setSelectedTool] = useState<'hero' | 'creature' | 'artifact' | 'resource' | null>(null);\n  const [selectedEntity, setSelectedEntity] = useState<any>(null);\n  const [timelineDay, setTimelineDay] = useState(currentDay);\n  const [viewMode, setViewMode] = useState<'spatial' | 'temporal' | 'causal'>('spatial');\n  const [showLayers, setShowLayers] = useState({\n    past: false,\n    present: true,\n    future: true\n  });\n  const [draggedEntity, setDraggedEntity] = useState<any>(null);\n  const [hoveredCell, setHoveredCell] = useState<{x: number, y: number} | null>(null);\n  \n  // Référence pour le canvas de la map\n  const mapCanvasRef = useRef<HTMLDivElement>(null);\n\n  // Placer un événement spatio-temporel\n  const placeEvent = (x: number, y: number, entity?: any) => {\n    const entityToPlace = entity || selectedEntity;\n    if (!entityToPlace) return;\n    \n    const newEvent: TemporalEvent = {\n      id: `event_${Date.now()}`,\n      x,\n      y,\n      time: timelineDay,\n      entity: {\n        type: selectedTool || 'resource',\n        id: entityToPlace.id,\n        icon: entityToPlace.icon_id || entityToPlace.icon || '❓',\n        name: entityToPlace.name\n      },\n      cycle: {\n        enabled: false,\n        interval: 7,\n        probability: 1.0\n      }\n    };\n    \n    setEvents([...events, newEvent]);\n    onEventPlace?.(newEvent);\n    \n    // Notifier le backend\n    console.log(`📡 Événement placé: ${entityToPlace.name} au jour ${timelineDay} en (${x}, ${y})`);\n  };\n\n  // Gestion du drag & drop\n  const handleDragStart = (e: React.DragEvent, entity: any, type: string) => {\n    setDraggedEntity({ ...entity, type });\n    setSelectedTool(type as any);\n    e.dataTransfer.effectAllowed = 'copy';\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'copy';\n  };\n\n  const handleDrop = (e: React.DragEvent, x: number, y: number) => {\n    e.preventDefault();\n    if (draggedEntity) {\n      placeEvent(x, y, draggedEntity);\n      setDraggedEntity(null);\n    }\n  };\n\n  const handleCellHover = (x: number, y: number) => {\n    setHoveredCell({ x, y });\n  };\n\n  // Filtrer les événements visibles selon le jour actuel\n  const getVisibleEvents = () => {\n    return events.filter(event => {\n      if (viewMode === 'temporal') {\n        // Vue timeline : tous les événements\n        return true;\n      }\n      \n      // Vue spatiale : selon les couches activées\n      if (event.time < timelineDay && showLayers.past) return true;\n      if (event.time === timelineDay && showLayers.present) return true;\n      if (event.time > timelineDay && showLayers.future) return true;\n      \n      // Vérifier les cycles de réapparition\n      if (event.cycle?.enabled) {\n        const daysSinceFirst = timelineDay - event.time;\n        if (daysSinceFirst > 0 && daysSinceFirst % event.cycle.interval === 0) {\n          return showLayers.present;\n        }\n      }\n      \n      return false;\n    });\n  };\n\n  return (\n    <div style={{\n      display: 'flex',\n      height: '100%',\n      width: '100%',\n      background: 'linear-gradient(135deg, #0a0e1a 0%, #1a1d3a 100%)',\n    }}>\n      {/* Panneau gauche - Palette d'entités */}\n      <div style={{\n        width: 320,\n        background: 'linear-gradient(180deg, #1a1a2e, #16213e)',\n        padding: 20,\n        overflowY: 'auto',\n        borderRight: '3px solid #764ba2',\n        boxShadow: '5px 0 20px rgba(0,0,0,0.5)',\n      }}>\n        <h2 style={{\n          fontSize: '1.8em',\n          marginBottom: 20,\n          textAlign: 'center',\n          background: 'linear-gradient(45deg, #667eea, #764ba2)',\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n        }}>\n          🌌 Éditeur Spatio-Temporel\n        </h2>\n\n        {/* Contrôles temporels */}\n        <div style={{\n          background: 'rgba(15, 52, 96, 0.5)',\n          borderRadius: 10,\n          padding: 15,\n          marginBottom: 20,\n        }}>\n          <h3 style={{ marginBottom: 10 }}>⏳ Timeline</h3>\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\n            <button onClick={() => setTimelineDay(Math.max(1, timelineDay - 1))}>◀</button>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"100\"\n              value={timelineDay}\n              onChange={(e) => setTimelineDay(Number(e.target.value))}\n              style={{ flex: 1 }}\n            />\n            <button onClick={() => setTimelineDay(timelineDay + 1)}>▶</button>\n          </div>\n          <div style={{ textAlign: 'center', marginTop: 10 }}>\n            Jour {timelineDay}\n          </div>\n        </div>\n\n        {/* Mode de vue */}\n        <div style={{\n          display: 'flex',\n          gap: 5,\n          marginBottom: 20,\n        }}>\n          <button\n            onClick={() => setViewMode('spatial')}\n            style={{\n              flex: 1,\n              padding: 10,\n              background: viewMode === 'spatial' ? '#667eea' : '#0f3460',\n              border: 'none',\n              borderRadius: 5,\n              color: 'white',\n              cursor: 'pointer',\n            }}\n          >\n            🗺️ Spatial\n          </button>\n          <button\n            onClick={() => setViewMode('temporal')}\n            style={{\n              flex: 1,\n              padding: 10,\n              background: viewMode === 'temporal' ? '#667eea' : '#0f3460',\n              border: 'none',\n              borderRadius: 5,\n              color: 'white',\n              cursor: 'pointer',\n            }}\n          >\n            📅 Temporel\n          </button>\n          <button\n            onClick={() => setViewMode('causal')}\n            style={{\n              flex: 1,\n              padding: 10,\n              background: viewMode === 'causal' ? '#667eea' : '#0f3460',\n              border: 'none',\n              borderRadius: 5,\n              color: 'white',\n              cursor: 'pointer',\n            }}\n          >\n            🔀 Causal\n          </button>\n        </div>\n\n        {/* Couches temporelles */}\n        <div style={{\n          background: 'rgba(15, 52, 96, 0.3)',\n          borderRadius: 10,\n          padding: 10,\n          marginBottom: 20,\n        }}>\n          <h4 style={{ marginBottom: 10 }}>👁️ Couches visibles</h4>\n          <label style={{ display: 'block', marginBottom: 5 }}>\n            <input\n              type=\"checkbox\"\n              checked={showLayers.past}\n              onChange={(e) => setShowLayers({...showLayers, past: e.target.checked})}\n            />\n            🕐 Passé (transparent)\n          </label>\n          <label style={{ display: 'block', marginBottom: 5 }}>\n            <input\n              type=\"checkbox\"\n              checked={showLayers.present}\n              onChange={(e) => setShowLayers({...showLayers, present: e.target.checked})}\n            />\n            ⏰ Présent (opaque)\n          </label>\n          <label style={{ display: 'block' }}>\n            <input\n              type=\"checkbox\"\n              checked={showLayers.future}\n              onChange={(e) => setShowLayers({...showLayers, future: e.target.checked})}\n            />\n            🔮 Futur (contours)\n          </label>\n        </div>\n\n        {/* Palette d'entités */}\n        <div>\n          {/* Héros */}\n          <div style={{\n            marginBottom: 20,\n            background: 'rgba(15, 52, 96, 0.3)',\n            borderRadius: 10,\n            padding: 10,\n          }}>\n            <h3 \n              onClick={() => setSelectedTool(selectedTool === 'hero' ? null : 'hero')}\n              style={{\n                cursor: 'pointer',\n                padding: 10,\n                background: selectedTool === 'hero' ? '#667eea' : '#0f3460',\n                borderRadius: 8,\n                marginBottom: 10,\n              }}\n            >\n              👑 Héros\n            </h3>\n            {selectedTool === 'hero' && (\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(4, 1fr)',\n                gap: 8,\n              }}>\n                {Object.values(HEROES).slice(0, 8).map(hero => (\n                  <div\n                    key={hero.id}\n                    onClick={() => setSelectedEntity(hero)}\n                    style={{\n                      width: 60,\n                      height: 60,\n                      background: selectedEntity?.id === hero.id \n                        ? 'linear-gradient(135deg, #2e7d32, #4CAF50)'\n                        : 'linear-gradient(135deg, #0f3460, #16213e)',\n                      border: '2px solid transparent',\n                      borderRadius: 12,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: 28,\n                      cursor: 'pointer',\n                      transition: 'all 0.3s',\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.transform = 'scale(1.1)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.transform = 'scale(1)';\n                    }}\n                    title={hero.name}\n                  >\n                    {hero.icon_id}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Créatures */}\n          <div style={{\n            marginBottom: 20,\n            background: 'rgba(15, 52, 96, 0.3)',\n            borderRadius: 10,\n            padding: 10,\n          }}>\n            <h3\n              onClick={() => setSelectedTool(selectedTool === 'creature' ? null : 'creature')}\n              style={{\n                cursor: 'pointer',\n                padding: 10,\n                background: selectedTool === 'creature' ? '#667eea' : '#0f3460',\n                borderRadius: 8,\n                marginBottom: 10,\n              }}\n            >\n              🐉 Créatures\n            </h3>\n            {selectedTool === 'creature' && (\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(4, 1fr)',\n                gap: 8,\n              }}>\n                {Object.values(CREATURES).slice(0, 8).map(creature => (\n                  <div\n                    key={creature.id}\n                    onClick={() => setSelectedEntity(creature)}\n                    style={{\n                      width: 60,\n                      height: 60,\n                      background: selectedEntity?.id === creature.id\n                        ? 'linear-gradient(135deg, #2e7d32, #4CAF50)'\n                        : 'linear-gradient(135deg, #0f3460, #16213e)',\n                      border: '2px solid transparent',\n                      borderRadius: 12,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: 28,\n                      cursor: 'pointer',\n                      transition: 'all 0.3s',\n                    }}\n                    title={creature.name}\n                  >\n                    {creature.icon_id}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Zone centrale - Map spatio-temporelle */}\n      <div style={{\n        flex: 1,\n        position: 'relative',\n        overflow: 'hidden',\n      }}>\n        {viewMode === 'spatial' && (\n          <div\n            ref={mapCanvasRef}\n            style={{\n              width: '100%',\n              height: '100%',\n              position: 'relative',\n              background: 'radial-gradient(circle at center, #0f3460, #0a1929)',\n              backgroundImage: `\n                repeating-linear-gradient(\n                  0deg,\n                  transparent,\n                  transparent 49px,\n                  rgba(102, 126, 234, 0.1) 49px,\n                  rgba(102, 126, 234, 0.1) 50px\n                ),\n                repeating-linear-gradient(\n                  90deg,\n                  transparent,\n                  transparent 49px,\n                  rgba(118, 75, 162, 0.1) 49px,\n                  rgba(118, 75, 162, 0.1) 50px\n                )\n              `,\n              cursor: selectedEntity ? 'crosshair' : 'default',\n            }}\n            onClick={(e) => {\n              if (!selectedEntity) return;\n              const rect = e.currentTarget.getBoundingClientRect();\n              const x = Math.floor((e.clientX - rect.left) / 50);\n              const y = Math.floor((e.clientY - rect.top) / 50);\n              placeEvent(x, y);\n            }}\n          >\n            {/* Affichage des événements */}\n            {getVisibleEvents().map(event => {\n              const opacity = event.time < timelineDay ? 0.3 :\n                            event.time === timelineDay ? 1 :\n                            0.6;\n              const border = event.time > timelineDay ? '2px dashed rgba(255,255,255,0.5)' : 'none';\n              \n              return (\n                <div\n                  key={event.id}\n                  style={{\n                    position: 'absolute',\n                    left: event.x * 50,\n                    top: event.y * 50,\n                    width: 50,\n                    height: 50,\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontSize: 32,\n                    opacity,\n                    border,\n                    borderRadius: 8,\n                    background: event.time === timelineDay \n                      ? 'radial-gradient(circle, rgba(102,126,234,0.3), transparent)'\n                      : 'none',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s',\n                  }}\n                  title={`${event.entity.name} - Jour ${event.time}${event.cycle?.enabled ? ` (cycle: ${event.cycle.interval}j)` : ''}`}\n                >\n                  {event.entity.icon}\n                  {event.cycle?.enabled && (\n                    <span style={{\n                      position: 'absolute',\n                      top: -5,\n                      right: -5,\n                      fontSize: 12,\n                      background: '#4CAF50',\n                      borderRadius: '50%',\n                      width: 16,\n                      height: 16,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                    }}>\n                      ♻️\n                    </span>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        {viewMode === 'temporal' && (\n          <div style={{\n            padding: 20,\n            height: '100%',\n            overflowY: 'auto',\n          }}>\n            <h2 style={{ marginBottom: 20 }}>📅 Vue Timeline</h2>\n            {/* Timeline horizontale */}\n            <div style={{\n              display: 'flex',\n              gap: 10,\n              overflowX: 'auto',\n              paddingBottom: 20,\n            }}>\n              {Array.from({ length: 30 }, (_, i) => i + 1).map(day => {\n                const dayEvents = events.filter(e => e.time === day);\n                return (\n                  <div\n                    key={day}\n                    style={{\n                      minWidth: 100,\n                      padding: 10,\n                      background: day === timelineDay ? '#667eea' : '#0f3460',\n                      borderRadius: 8,\n                      textAlign: 'center',\n                    }}\n                  >\n                    <div style={{ fontWeight: 'bold', marginBottom: 10 }}>\n                      Jour {day}\n                    </div>\n                    {dayEvents.map(event => (\n                      <div key={event.id} style={{ fontSize: 24, marginBottom: 5 }}>\n                        {event.entity.icon}\n                      </div>\n                    ))}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n\n        {viewMode === 'causal' && (\n          <div style={{\n            padding: 20,\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}>\n            <div style={{\n              textAlign: 'center',\n              padding: 40,\n              background: 'rgba(20, 24, 36, 0.8)',\n              borderRadius: 16,\n              backdropFilter: 'blur(10px)',\n            }}>\n              <h2 style={{ marginBottom: 20 }}>🔀 Vue Causale</h2>\n              <p style={{ color: '#a0aec0' }}>\n                Visualisation des liens de causalité entre événements\n              </p>\n              <p style={{ marginTop: 20, fontSize: 48 }}>🚧</p>\n              <p style={{ color: '#667eea' }}>En construction</p>\n            </div>\n          </div>\n        )}\n\n        {/* Info panel */}\n        <div style={{\n          position: 'absolute',\n          top: 10,\n          right: 10,\n          background: 'rgba(20, 24, 36, 0.95)',\n          padding: 15,\n          borderRadius: 10,\n          border: '1px solid #667eea',\n          minWidth: 200,\n        }}>\n          <h4 style={{ marginBottom: 10 }}>📊 Statistiques</h4>\n          <div style={{ fontSize: 14, color: '#a0aec0' }}>\n            <div>📅 Jour actuel: {timelineDay}</div>\n            <div>📍 Événements: {events.length}</div>\n            <div>♻️ Cycliques: {events.filter(e => e.cycle?.enabled).length}</div>\n            <div>🎯 Sélection: {selectedEntity?.name || 'Aucune'}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["CREATURES","getCreaturesByRarity","rarity","creature","getCreatureCount","LEGENDARY_CREATURES","EPIC_CREATURES","RARE_CREATURES","COMMON_CREATURES","c","acc","SpatioTemporalMapEditor","mapWidth","mapHeight","currentDay","onEventPlace","events","setEvents","useState","selectedTool","setSelectedTool","selectedEntity","setSelectedEntity","timelineDay","setTimelineDay","viewMode","setViewMode","showLayers","setShowLayers","draggedEntity","setDraggedEntity","hoveredCell","setHoveredCell","mapCanvasRef","useRef","placeEvent","x","y","entity","entityToPlace","newEvent","getVisibleEvents","event","_a","daysSinceFirst","jsxs","jsx","HEROES","hero","e","rect","opacity","border","_b","_","i","day","dayEvents"],"mappings":"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"}