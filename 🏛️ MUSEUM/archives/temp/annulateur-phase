#!/bin/bash

# âš¡ ANNULATEUR DE PHASE JEAN - URGENCE TEMPORELLE
# Ã‰limination doublons HOTS en 4 TICKS maximum

echo "âš¡ ANNULATEUR DE PHASE ACTIVÃ‰ !"
echo "ğŸš¨ Jean est Ã©nervÃ© par les doublons - Collapse causal en cours..."
echo ""

# TICK 1 - Analyse des doublons
echo "ğŸ” TICK 1/4 - Scan des scripts HOTS redondants..."
if [ -f "hots" ] && [ -f "hots-visual" ]; then
    echo "   âŒ DOUBLON DÃ‰TECTÃ‰: hots + hots-visual"
    DOUBLON_HOTS=true
fi

if [ -f "hots-full" ]; then
    echo "   âœ… BACKUP DÃ‰TECTÃ‰: hots-full (Ã  conserver)"
fi

sleep 1

# TICK 2 - DÃ©cision Jean
echo "ğŸ§  TICK 2/4 - Application logique Jean-Grofignon..."
echo "   ğŸ“‹ CritÃ¨res: SIMPLICITÃ‰ + EFFICACITÃ‰ + PRÃ‰FÃ‰RENCE_JEAN"
echo "   ğŸ¯ DÃ©cision: Garder HOTS-VISUAL (plus moderne)"
sleep 1

# TICK 3 - Collapse causal
echo "âš¡ TICK 3/4 - COLLAPSE CAUSAL DES DOUBLONS..."
if [ "$DOUBLON_HOTS" = true ]; then
    echo "   ğŸ—‘ï¸  Suppression: ./hots (ancien)"
    rm -f hots
    echo "   âœ… Conservation: ./hots-visual â†’ ./hots"
    mv hots-visual hots
    chmod +x hots
fi
sleep 1

# TICK 4 - Validation finale
echo "ğŸ TICK 4/4 - VALIDATION FINALE..."
if [ -f "hots" ] && [ ! -f "hots-visual" ]; then
    echo "   âœ… SUCCÃˆS: Un seul script HOTS reste"
    echo "   ğŸ›‹ï¸  Jean approuve depuis son canapÃ©"
else
    echo "   âŒ Ã‰CHEC: Doublons persistent"
fi

echo ""
echo "âš¡ ANNULATEUR DE PHASE TERMINÃ‰"
echo "ğŸ® Script optimal: ./hots"
echo "ğŸ’¾ Backup conservÃ©: ./hots-full"
echo ""
echo "ğŸ›‹ï¸ Jean-Grofignon: 'Enfin, un seul script propre !'" 